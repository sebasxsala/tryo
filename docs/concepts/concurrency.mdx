---
title: Concurrency
description: Concurrency control and batch execution modes
---

## Options

- `concurrency`: limit of simultaneous tasks
- `mode`: in `runAllSettled`, `settle` or `fail-fast`

## `runAllSettled` with limit

```typescript
import { runAllSettled } from "runtry";

const tasks = Array.from({ length: 10 }, (_, i) => async () => i);

const results = await runAllSettled<number>(tasks, { concurrency: 3 });
```

## `fail-fast`

Stops the start of new tasks on the first error.

```typescript
const results = await runAllSettled<number>(tasks, { concurrency: 4, mode: "fail-fast" });
```

Unstarted tasks remain in `skipped` state.

## `runAll`

Throws on the first error and respects `concurrency`.

```typescript
import { runAll } from "runtry";

const data = await runAll<number>(tasks, { concurrency: 2 });
```
