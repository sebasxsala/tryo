---
title: TypeScript
description: Generic types, helpers, and rules with type inference
---

## Generics in `run`

```typescript
import { run } from "tryo";

type Item = { id: string };
const r = await run<Item>(() => fetch("/api").then((x) => x.json()));
```

## Result helpers in `all`

```typescript
import {
  all,
  isSuccess,
  type SuccessResult,
  type ErrorResult,
} from "tryo";

const rs = await all<number>([async () => 1]);
const ok: SuccessResult<number>[] = rs.filter(isSuccess);
const ko: ErrorResult<any>[] = rs.filter((r) => r.status === "error");
```

## Rules and types

```typescript
import tryo, { errorRule } from "tryo";

type MyError = { code: "HTTP"; message: string; status?: number };

const runner = tryo({
  rules: [
    errorRule
      .when(
        (e): e is { status: number } => typeof (e as any)?.status === "number"
      )
      .toError<MyError>((e) => ({
        code: "HTTP",
        message: "failed",
        status: (e as any).status,
      })),
  ],
});
```
