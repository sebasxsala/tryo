---
title: Migration
description: From try/catch and Promise.all to safe and controlled results
---

## From try/catch to `run`

```typescript
import { run } from "runtry";

const r = await run(() => fetch("/api").then((x) => x.json()));
if (r.ok) {
  console.log(r.data);
} else {
  console.error(r.error.code);
}
```

## From `Promise.all` to `runAllSettled`

```typescript
import { runAllSettled } from "runtry";

const tasks = [() => fetch("/a"), () => fetch("/b")];
const results = await runAllSettled<Response>(tasks, { concurrency: 2, mode: "settle" });
```
